<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Soâ€˜zlarni Yodlash</title>
<style>
  * { box-sizing: border-box; margin: 0; padding: 0; }
  body {
    font-family: "Poppins", Arial, sans-serif;
    background: linear-gradient(135deg, #1e3a8a, #0f172a);
    color: #e5e7eb;
    height: 100vh;
    display: flex;
    overflow: hidden;
  }

  /* Sidebar */
  .sidebar {
    width: 260px;
    background: rgba(30, 41, 59, 0.95);
    border-right: 1px solid rgba(255,255,255,0.05);
    padding: 20px;
    backdrop-filter: blur(8px);
    transition: transform 0.5s ease, opacity 0.4s ease;
  }
  .sidebar h2 {
    font-size: 20px;
    text-align: center;
    color: #93c5fd;
    margin-bottom: 20px;
  }
  .topic {
    background: rgba(255,255,255,0.05);
    margin-bottom: 8px;
    padding: 10px;
    border-radius: 12px;
    text-align: center;
    cursor: pointer;
    transition: 0.3s;
  }
  .topic:hover { background: rgba(96,165,250,0.25); }
  .topic.active { background: rgba(96,165,250,0.4); }

  /* Top controls */
  .top-controls {
    position: fixed;
    top: 14px;
    left: 0;
    width: 100%;
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: 20;
    padding: 0 20px;
  }

  .menu-btn {
    background: rgba(255,255,255,0.1);
    border: none;
    color: #fff;
    font-size: 18px;
    padding: 10px 16px;
    border-radius: 8px;
    cursor: pointer;
    transition: 0.3s;
  }
  .menu-btn:hover { background: rgba(255,255,255,0.2); }

  .swap-btn {
    background: rgba(96,165,250,0.2);
    border: 1px solid #60a5fa;
    color: #e0f2fe;
    font-weight: 600;
    padding: 10px 18px;
    border-radius: 12px;
    cursor: pointer;
    transition: 0.3s;
  }
  .swap-btn:hover { background: rgba(96,165,250,0.35); transform: translateY(-2px); }

  .hidden { display: none; }

  /* Main */
  .main {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 20px;
    position: relative;
    overflow: hidden;
  }

  .card {
    background: rgba(255,255,255,0.05);
    border-radius: 20px;
    padding: 40px 30px;
    box-shadow: 0 6px 25px rgba(0,0,0,0.3);
    max-width: 420px;
    width: 100%;
    transform: scale(0.9);
    opacity: 0;
    animation: fadeIn 0.6s forwards ease-out;
  }

  @keyframes fadeIn {
    to { opacity: 1; transform: scale(1); }
  }

  .word-box {
    font-size: 36px;
    font-weight: 700;
    margin-bottom: 10px;
    transition: opacity 0.3s ease;
  }

  .translation {
    font-size: 24px;
    color: #a5b4fc;
    min-height: 35px;
    transition: opacity 0.3s ease;
  }

  .buttons {
    margin-top: 20px;
    display: flex;
    gap: 12px;
    justify-content: center;
    flex-wrap: wrap;
  }

  button {
    background: #60a5fa;
    border: none;
    color: white;
    font-size: 16px;
    font-weight: 600;
    border-radius: 10px;
    padding: 10px 20px;
    cursor: pointer;
    transition: 0.3s;
  }
  button:hover { background: #3b82f6; transform: translateY(-2px); }

  footer {
    position: absolute;
    bottom: 8px;
    width: 100%;
    text-align: center;
    color: #9ca3af;
    font-size: 14px;
  }
  footer span { color: #93c5fd; }

  /* Mobile view */
  @media (max-width: 768px) {
    body { flex-direction: column; overflow: hidden; }
    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      height: 100%;
      transform: translateX(-100%);
      opacity: 0;
      z-index: 15;
    }
    .sidebar.active {
      transform: translateX(0);
      opacity: 1;
    }
    .main { padding-top: 100px; }
    .word-box { font-size: 28px; }
    .translation { font-size: 18px; }
    .top-controls {
      flex-direction: row;
      justify-content: space-between;
      gap: 8px;
    }
    .menu-btn, .swap-btn {
      width: auto;
      font-size: 15px;
      padding: 10px;
    }
  }
</style>
</head>
<body>

  <div class="top-controls">
    <button class="menu-btn" id="menuBtn">ðŸ“š Mavzular</button>
    <button class="swap-btn" id="swapModeBtn">ðŸ”„ Oâ€˜zbek â†’ Koreys</button>
  </div>

  <div class="sidebar" id="sidebar">
    <h2>Mavzular</h2>
    <div id="topicList"></div>
  </div>

  <div class="main">
    <div class="card">
      <div id="wordBox" class="word-box">Mavzuni tanlang</div>
      <div id="translationBox" class="translation"></div>
      <div class="buttons">
        <button id="changeBtn" disabled>Oâ€˜zgartir</button>
        <button id="showTransBtn" disabled>Tarjimani koâ€˜rsat</button>
      </div>
    </div>
    <footer>
      Â© 2025 <span>Jaloldinov Nizomjon</span> â€” Namangan Davlat Texnik Universiteti magistranti | AI Developer
    </footer>
  </div>

<script>
const sidebar = document.getElementById("sidebar");
const topicList = document.getElementById("topicList");
const wordBox = document.getElementById("wordBox");
const translationBox = document.getElementById("translationBox");
const changeBtn = document.getElementById("changeBtn");
const showTransBtn = document.getElementById("showTransBtn");
const menuBtn = document.getElementById("menuBtn");
const swapModeBtn = document.getElementById("swapModeBtn");

let currentTopic = null;
let currentWord = null;
let currentTranslation = null;
let reverseMode = false;
let shuffledList = [];
let wordIndex = 0;

// So'zlarni shuffle qilish funksiyasi
function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

// Mavzular
const topics = {
"Topik 52 reading 1-25": [
    ["meva", "ê³¼ì¼"],
    ["uzum", "í¬ë„"],
    ["taâ€™m, mazza", "ë§›"],
    ["narx, qiymat", "ê°’"],
    ["taâ€™til, oâ€˜qishdan dam olish davri", "ë°©í•™"],
    ["dam olish kuni", "íœ´ì¼"],
    ["reja", "ê³„íš"],
    ["koâ€˜zoynak", "ì•ˆê²½"],
    ["tarvuz", "ìˆ˜ë°•"],
    ["hamyon", "ì§€ê°‘"],
    ["AQSH", "ë¯¸êµ­"],
    ["och boâ€˜lmoq", "ê³ í”„ë‹¤"],
    ["sayohat agentligi", "ì—¬í–‰ì‚¬"],
    ["balki", "ì•„ë§ˆ"],
    ["eng, birinchi darajali", "ì œì¼"],
    ["keng boâ€˜lmoq", "ë„“ë‹¤"],
    ["oson boâ€˜lmoq, qiyin emas", "ì‰½ë‹¤"],
    ["sotmoq", "íŒ”ë‹¤"],
    ["qoâ€˜shiq, kuylash", "ë…¸ëž˜"],
    ["soâ€˜ramoq, surishtirmoq", "ë¬¼ì–´ë³´ë‹¤"],
    ["nikoh marosimi, toâ€˜y", "ê²°í˜¼ì‹"],
    ["rasm", "ì‚¬ì§„"],
    ["qarzga olmoq / ijaraga olmoq", "ë¹Œë¦¬ë‹¤"],
    ["suratga olmoq, rasm tushirmoq", "ì°ë‹¤"],
    ["toâ€˜lov, narx", "ìš”ê¸ˆ"]
],


 "Topik 52 reading 26-50": [
    ["eslatma, yozuv", "ë©”ëª¨"],
    ["kichik", "ìž‘ë‹¤"],
    ["tugamoq, yakunlanmoq", "ëë‚˜ë‹¤"],
    ["pechenye, shirinlik", "ê³¼ìž"],
    ["sovgâ€˜a qilmoq", "ì„ ë¬¼í•˜ë‹¤"],
    ["kinoteatr(bino)", "ì˜í™”ê´€"],
    ["piyoda yurmoq", "ê±·ë‹¤"],
    ["odatda, koâ€˜pincha", "ë³´í†µ"],
    ["velosiped", "ìžì „ê±°"],
    ["ishga borish", "ì¶œê·¼í•˜ë‹¤"],
    ["ammo, lekin", "ê·¸ëŸ°ë°"],
    ["tugâ€˜ilgan shahar, ota-ona yurt", "ê³ í–¥"],
    ["qaytmoq, ketmoq", "ëŒì•„ê°€ë‹¤"],
    ["salomlashuv, xayrlashuv", "ì¸ì‚¬"],
    ["ajralmoq, xayrlashmoq", "í—¤ì–´ì§€ë‹¤"],
    ["koâ€˜z yoshi", "ëˆˆë¬¼"],
    ["paydo boâ€˜lmoq, chiqmoq", "ë‚˜ë‹¤"],
    ["ketmoq, tark etmoq", "ë– ë‚˜ë‹¤"],
    ["xafa boâ€˜lmoq", "ìŠ¬í”„ë‹¤"],
    ["eskirmoq", "ì˜¤ëž˜ë˜ë‹¤"],
    ["almashtirmoq, oâ€˜zgartirmoq", "ë°”ê¾¸ë‹¤"],
    ["hurmat bilan berish", "ë“œë¦¬ë‹¤"],
    ["part-time ish", "ì•„ë¥´ë°”ì´íŠ¸"],
    ["har doim", "í•­ìƒ"],
    ["chet el", "ì™¸êµ­"]
],



 "Topik 52 reading 51-75": [
    ["davr, muddat", "ê¸°ê°„"],
    ["belgilamoq, aniqlamoq", "ì •í•˜ë‹¤"],
    ["mashhur boâ€˜lmoq", "ìœ ëª…í•˜ë‹¤"],
    ["sayyohlik joyi, turist joyi", "ê´€ê´‘ì§€"],
    ["qishloq, kichik shahar", "ë§ˆì„"],
    ["qatnamoq, aylanib yurmoq", "ë‹¤ë‹ˆë‹¤"],
    ["haydamoq, mashina boshqarmoq", "ìš´ì „í•˜ë‹¤"],
    ["chiroyli", "ì˜ˆìœ"],
    ["manzara", "ê²½ì¹˜"],
    ["tomosha qilmoq", "êµ¬ê²½í•˜ë‹¤"],
    ["uzoq vaqt davomida", "ì˜¤ëž«ë™ì•ˆ"],
    ["yashamoq, qolmoq", "ì§€ë‚´ë‹¤"],
    ["oâ€˜zim / shaxsan", "ì§ì ‘"],
    ["bir nechta", "ì—¬ëŸ¬"],
    ["belgilamoq, aniqlamoq", "ì •í•˜ë‹¤"],
    ["un", "ë°€ê°€ë£¨"],
    ["tarkibiy qism", "ìž¬ë£Œ"],
    ["turli xil", "ë‹¤ì–‘í•œ"],
    ["joy", "ê³³"],
    ["ishlatmoq", "ì‚¬ìš©í•˜ë‹¤"],
    ["uzum", "í¬ë„"],
    ["qulupnay", "ë”¸ê¸°"],
    ["yuvmoq", "ì”»ë‹¤"],
    ["hid", "ëƒ„ìƒˆ"],
    ["idish, kosa", "ê·¸ë¦‡"]
],


 "Topik 52 reading 76-100": [
    ["solmoq, qoâ€˜ymoq", "ë„£ë‹¤"],
    ["bir kun", "í•˜ë£¨"],
    ["oâ€˜tmoq, oâ€˜tkazmoq", "ì§€ë‚˜ë‹¤"],
    ["hid chiqmoq", "ëƒ„ìƒˆê°€ ë‚˜ë‹¤"],
    ["va / shuningdek", "ê·¸ë¦¬ê³ "],
    ["unda / shunday boâ€˜lsa", "ê·¸ëŸ¬ë©´"],
    ["lekin / ammo", "ê·¸ëŸ¬ë‚˜"],
    ["ishlatmoq, foydalamoq", "ì‚¬ìš©í•˜ë‹¤"],
    ["skovarotka", "í”„ë¼ì´íŒ¬"],
    ["qolmoq, ortiqcha boâ€˜lmoq", "ë‚¨ë‹¤"],
    ["yogâ€˜", "ê¸°ë¦„"],
    ["artmoq, tozalamoq", "ë‹¦ë‹¤"],
    ["osonlik bilan", "ì‰½ê²Œ"],
    ["tartib, ketma-ketlik", "ìˆœì„œ"],
    ["usul, metod", "ë°©ë²•"],
    ["bola", "ì•„ì´"],
    ["teri", "í”¼ë¶€"],
    ["zaif boâ€˜lmoq", "ì•½í•˜ë‹¤"],
    ["sotmoq", "íŒ”ë‹¤"],
    ["sovun", "ë¹„ëˆ„"],
    ["internet", "ì¸í„°ë„·"],
    ["mos kelmoq, toâ€˜gâ€˜ri kelmoq", "ë§žë‹¤"],
    ["hoziroq", "ê¸ˆë°©"],
    ["tanlamoq, tanlab olish", "ê³ ë¥´ë‹¤"],
    ["yubormoq, joâ€˜natmoq", "ë³´ë‚´ë‹¤"]
],


 "Topik 52 reading 101-125": [
    ["doimiy / tinimsiz", "ê³„ì†"],
    ["unchalik", "ë³„ë¡œ"],
    ["guruch", "ìŒ€"],
    ["tabiat, tabiiy", "ìžì—°"],
    ["ishlatmoq / foydalanmoq", "ì‚¬ìš©í•˜ë‹¤"],
    ["xotin", "ì•„ë‚´"],
    ["qishloq", "ì‹œê³¨"],
    ["oâ€˜smoq, ulgâ€˜aymoq", "ìžë¼ë‹¤"],
    ["uylanish", "ê²°í˜¼í•˜ë‹¤"],
    ["lekin / ammo / biroq", "í•˜ì§€ë§Œ"],
    ["shahar", "ë„ì‹œ"],
    ["hayot / yashash tarzi", "ìƒí™œ"],
    ["baxtli boâ€˜lmoq", "í–‰ë³µí•˜ë‹¤"],
    ["qishloq", "ì‹œê³¨"],
    ["qaytmoq, ortga qaytmoq", "ëŒì•„ê°€ë‹¤"],
    ["sabab, omil", "ë•Œë¬¸"],
    ["â€¦dan oldin / â€¦vaqtda", "ì „ì—"],
    ["yer / tuproq", "ë•…"],
    ["yetishtirmoq, parvarish qilmoq", "í‚¤ìš°ë‹¤"],
    ["nihoyat / oxir-oqibat", "ë“œë””ì–´"],
    ["koâ€˜chish, yashash joyini almashtirish", "ì´ì‚¬"],
    ["oâ€˜ng qoâ€˜l", "ì˜¤ë¥¸ì†"],
    ["yozuv, harflar", "ê¸€ì”¨"],
    ["chap qoâ€˜l", "ì™¼ì†"],
    ["boshlamoq", "ì‹œìž‘í•˜ë‹¤"]
],


 "Topik 52 reading 126-150": [
    ["noqulay boâ€˜lmoq", "ë¶ˆíŽ¸í•˜ë‹¤"],
    ["odatlangan, oâ€˜rganib qolmoq", "ìµìˆ™í•˜ë‹¤"],
    ["shikastlanmoq / jarohat olmoq", "ë‹¤ì¹˜ë‹¤"],
    ["eski boâ€˜lmoq, muddati oâ€˜tmoq", "ì˜¤ëž˜ë˜ë‹¤"],
    ["tuxum", "ë‹¬ê±€"],
    ["tuzli suv", "ì†Œê¸ˆë¬¼"],
    ["qoâ€˜ymoq / solmoq", "ë„£ë‹¤"],
    ["boâ€˜lmoq / amalga oshmoq", "ë˜ë‹¤"],
    ["yangi, xom", "ì‹ ì„ í•˜ë‹¤"],
    ["bilmoq, tushunmoq", "ì•Œë‹¤"],
    ["tag / pastki qism", "ë°”ë‹¥"],
    ["mahalla, qishloq", "ë™ë„¤"],
    ["hayvon", "ë™ë¬¼"],
    ["qish", "ê²¨ìš¸"],
    ["deyarli", "ë³„ë¡œ"],
    ["qoâ€˜ymoq / tashlamoq", "ë†“ë‹¤"],
    ["quyon", "í† ë¼"],
    ["togâ€˜ qushi", "ì‚°ìƒˆ"],
    ["sovuq (sifat)", "ì¶”ìš´"],
    ["olib yurmoq", "ê°€ì§€ë‹¤"],
    ["chiqmoq / koâ€˜tarilmoq", "ì˜¬ë¼ê°€ë‹¤"],
    ["qiyin, ogâ€˜ir", "íž˜ë“¤ë‹¤"],
    ["kayfiyat / ruhiy holat", "ê¸°ë¶„"],
    ["yoqmaslik, yoqtirmaslik", "ì‹«ë‹¤"],
    ["pastga tushib kelmoq", "ë‚´ë ¤ì˜¤ë‹¤"]
],



 "Topik 52 reading 151-175": [
    ["bir nechta", "ì—¬ëŸ¬"],
    ["tur / xil", "ê°€ì§€"],
    ["xizmat", "ì„œë¹„ìŠ¤"],
    ["zavqlanmoq, bahramand boâ€˜lmoq", "ì¦ê¸°ë‹¤"],
    ["charchagan", "í”¼ê³¤í•œ"],
    ["uxlamoq", "ìžë‹¤"],
    ["xona", "ë°©"],
    ["dush qabul qilmoq", "ìƒ¤ì›Œí•˜ë‹¤"],
    ["buzilmoq", "ê³ ìž¥ ë‚˜ë‹¤"],
    ["oâ€˜rniga", "ëŒ€ì‹ "],
    ["qarzga bermoq", "ë¹Œë ¤ì£¼ë‹¤"],
    ["xizmat", "ì„œë¹„ìŠ¤"],
    ["iliq, issiq", "ë”°ëœ»í•˜ë‹¤"],
    ["uchun / maqsadida", "ìœ„í•´"],
    ["qishki kiyim", "ê²¨ìš¸ì˜·"],
    ["ishonib topshirmoq", "ë§¡ë‹¤"],
    ["pasport", "ì—¬ê¶Œ"],
    ["tuzatmoq", "ê³ ì¹˜ë‹¤"],
    ["qulay, foydali", "íŽ¸ë¦¬í•˜ë‹¤"],
    ["deyarli", "ë³„ë¡œ"],
    ["almashtirmoq / oâ€˜zgartirmoq", "ë°”ê¾¸ë‹¤"],
    ["festival / bayram", "ì¶•ì œ"],
    ["ochilmoq", "ì—´ë¦¬ë‹¤"],
    ["sevmoq", "ì‚¬ëž‘í•˜ë‹¤"],
    ["xotira, esdalik", "ì¶”ì–µ"]
],


 "Topik 52 reading 176-200": [
    ["marjon", "ëª©ê±¸ì´"],
    ["otkritka", "ì—½ì„œ"],
    ["turli xil", "ë‹¤ì–‘í•œ"],
    ["tadbir", "í–‰ì‚¬"],
    ["qiziqish / eâ€™tibor", "ê´€ì‹¬"],
    ["sana", "ë‚ ì§œ"],
    ["tekshirmoq, tasdiqlamoq", "í™•ì¸í•˜ë‹¤"],
    ["mazmun / ichki maâ€™lumot", "ë‚´ìš©"],
    ["maâ€™lum qilmoq, xabar bermoq", "ì•Œë¦¬ë‹¤"],
    ["kerak boâ€˜lmoq", "í•„ìš”í•˜ë‹¤"],
    ["yigâ€˜moq, toâ€˜plash", "ëª¨ìœ¼ë‹¤"],
    ["tayyorlamoq, tayyorlanmoq", "ì¤€ë¹„í•˜ë‹¤"],
    ["bu yil", "ì˜¬í•´"],
    ["qatnashmoq, ishtirok etmoq", "ì°¸ê°€í•˜ë‹¤"],
    ["toâ€˜lamoq ðŸ’µ", "ë‚´ë‹¤"],
    ["yubormoq / joâ€˜natmoq", "ë³´ë‚´ë‹¤"],
    ["mahalla, hudud", "ë™ë„¤"],
    ["kurs", "í•™ì›"],
    ["ochilmoq", "ê¸°ë‹¤"],
    ["bir muddat", "í•œì°¸"],
    ["turmoq / toâ€˜xtamoq", "ì„œë‹¤"],
    ["qatnashmoq", "ë‹¤ë‹ˆë‹¤"],
    ["uyalmoq", "ë¶€ë„ëŸ½ë‹¤"],
    ["quvonchli / zavqli boâ€˜lmoq", "ì¦ê²ë‹¤"],
    ["bazan", "ê°€ë”"]
],



 "Topik 52 reading 201-235": [
    ["yigâ€˜ilish / uchrashuv", "ëª¨ìž„"],
    ["nabira qiz", "ì†ë…€"],
    ["gapirmoq / aytmoq", "ë§í•˜ë‹¤"],
    ["musiqiy ijro qilmoq / chalmoq", "ì—°ì£¼í•˜ë‹¤"],
    ["roâ€˜yxatdan oâ€˜tish", "ë“±ë¡"],
    ["eski", "ì˜¤ëž˜ëœ"],
    ["unchalik / juda emas", "ë³„ë¡œ"],
    ["kamaymoq", "ì ì–´ì§€ë‹¤"],
    ["yangi tarzda / yangicha", "ìƒˆë¡­ê²Œ"],
    ["oâ€˜zgartirmoq", "ë°”ê¾¸ë‹¤"],
    ["doâ€˜kon egasi", "ê°€ê²Œ ì£¼ì¸"],
    ["namoyish qilmoq", "ì „ì‹œí•˜ë‹¤"],
    ["chiroyli tarzda", "ì˜ˆì˜ê²Œ"],
    ["osmoq / ilmoq", "ê±¸ë‹¤"],
    ["turli xil / xilma-xil", "ë‹¤ì–‘í•œ"],
    ["buyumlar / narsalar", "ë¬¼ê±´"],
    ["yozuv / harflar", "ê¸€ì”¨"],
    ["soâ€˜nggi paytlarda", "ìµœê·¼"],
    ["paydo boâ€˜lmoq", "ìƒê¸°ë‹¤"],
    ["orzu / tush", "ê¿ˆ"],
    ["mashhur / taniqli", "ìœ ëª…í•œ"],
    ["kino aktyori", "ì˜í™”ë°°ìš°"],
    ["aktyor / aktrisa", "ë°°ìš°"],
    ["boâ€˜lmoq", "ë˜ë‹¤"],
    ["oâ€˜ylagandan koâ€˜ra", "ìƒê°ë³´ë‹¤"],
    ["ertak kitobi", "ë™í™”ì±…"],
    ["kabi / singari", "ì²˜ëŸ¼"],
    ["sahnalashtirish", "ì—°ê¸°"],
    ["kulmoq", "ì›ƒë‹¤"],
    ["olqish", "ë°•ìˆ˜"],
    ["kasb / ish", "ì§ì—…"],
    ["oâ€˜zgartirmoq", "ë°”ê¾¸ë‹¤"]
]







//   "2-dars": [
//     ["soat", "ì‹œê³„"], ["ha", "ë„¤"], ["yoâ€˜q", "ì•„ë‹ˆìš”"], ["tufli", "êµ¬ë‘"], 
//     ["krasovka", "ìš´ë™í™”"], ["gul", "ê½ƒ"], ["daftar", "ê³µì±…"], ["daraxt", "ë‚˜ë¬´"], 
//     ["sumka", "ê°€ë°©"]
//   ],
//   "hafta kunlari": [
//     ["dushanba", "ì›”ìš”ì¼"], ["seshanba", "í™”ìš”ì¼"], ["chorshanba", "ìˆ˜ìš”ì¼"], 
//     ["payshanba", "ëª©ìš”ì¼"], ["juma", "ê¸ˆìš”ì¼"], ["shanba", "í† ìš”ì¼"], ["yakshanba", "ì¼ìš”ì¼"]
//   ],
//   "son": [
//     ["1", "ì¼"], ["2", "ì´"], ["3", "ì‚¼"], ["4", "ì‚¬"], ["5", "ì˜¤"], 
//     ["6", "ìœ¡"], ["7", "ì¹ "], ["8", "íŒ”"], ["9", "êµ¬"], ["10", "ì‹­"]
//   ]
};

// Mavzularni chiqarish
for (let topic in topics) {
  const div = document.createElement("div");
  div.className = "topic";
  div.textContent = topic;
  div.onclick = () => selectTopic(topic, div);
  topicList.appendChild(div);
}

// Menu va swap tugmalari
menuBtn.onclick = () => {
  sidebar.classList.toggle("active");
  swapModeBtn.classList.toggle("hidden");
};

swapModeBtn.onclick = () => {
  reverseMode = !reverseMode;
  swapModeBtn.textContent = reverseMode ? "ðŸ” Koreys â†’ Oâ€˜zbek" : "ðŸ”„ Oâ€˜zbek â†’ Koreys";
  if (currentTopic) showRandomWord();
};

// Mavzu tanlash
function selectTopic(topic, element) {
  document.querySelectorAll(".topic").forEach(el => el.classList.remove("active"));
  element.classList.add("active");
  currentTopic = topic;
  changeBtn.disabled = false;
  showTransBtn.disabled = false;

  shuffledList = shuffleArray([...topics[currentTopic]]);
  wordIndex = 0;
  showRandomWord();
  sidebar.classList.remove("active");
  swapModeBtn.classList.remove("hidden");
}

// So'z ko'rsatish
function showRandomWord() {
  if (!shuffledList.length) return;

  // Agar ro'yxat tugagan bo'lsa, "Boshidan boshlash" tugmasini ko'rsatamiz
  if (wordIndex >= shuffledList.length) {
    wordBox.textContent = "Boshidan boshlashni xohlaysizmi?";
    translationBox.textContent = "";
    changeBtn.disabled = true;
    showTransBtn.disabled = true;

    // Maxsus "Boshidan boshlash" tugmasi
    const restartBtn = document.createElement("button");
    restartBtn.textContent = "ðŸ”„ Boshidan boshlash";
    restartBtn.onclick = () => {
      shuffledList = shuffleArray([...topics[currentTopic]]);
      wordIndex = 0;
      changeBtn.disabled = false;
      showTransBtn.disabled = false;
      restartBtn.remove();
      showRandomWord();
    };
    document.querySelector(".buttons").appendChild(restartBtn);
    return;
  }

  const newItem = shuffledList[wordIndex];
  wordIndex++;

  if (reverseMode) {
    currentWord = newItem[1];
    currentTranslation = newItem[0];
  } else {
    currentWord = newItem[0];
    currentTranslation = newItem[1];
  }

  wordBox.style.opacity = 0;
  translationBox.style.opacity = 0;
  setTimeout(() => {
    wordBox.textContent = currentWord;
    translationBox.textContent = "";
    wordBox.style.opacity = 1;
  }, 200);
}

changeBtn.onclick = showRandomWord;

showTransBtn.onclick = () => {
  translationBox.style.opacity = 0;
  setTimeout(() => {
    translationBox.innerHTML = `${currentWord} â†’ <strong>${currentTranslation}</strong>`;
    translationBox.style.opacity = 1;
  }, 200);
};
</script>
</body>
</html>
